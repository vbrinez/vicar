{% extends "./base_tienda.html" %}
{% load static %}

{% block title %}
    Tienda | Nueva Publicacion Imagen
{% endblock %}

{% block head %}
    <link href="{% static 'css/plugins/dropzone/basic.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/dropzone/dropzone.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/jasny/jasny-bootstrap.mipublicacion.css' %}" rel="stylesheet">
    <link href="{% static 'css/plugins/codemirror/codemirror.css' %}" rel="stylesheet">
{% endblock %}

{% block direcciones %}
<div class="col-lg-10">
    <h2>Tienda</h2>
    <ol class="breadcrumb">
        <li class="breadcrumb-item">
            <a href="/blog/home">Home Blog</a>
        </li>
        <li class="breadcrumb-item">
            <a href="/blog/administracion/tienda">Tienda Administracion</a>
        </li>
    </ol>
</div>
<div class="col-lg-2">
</div>
{% endblock %}

{% block body %}
    <h1>Agregar imagenes para el producto {{ nombre }}, Publicacion #{{ id }} </h1>

    <div class="row">
        <div class="col-lg-12">
            <div class="ibox ">
                <div class="ibox-content">
                    <div class="wrapper wrapper-content animated fadeIn"> 
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="ibox">
                                    <div class="ibox-title">
                                        <h5>Imagenes para ({{ codigo }}) {{ nombre }} </h5>
                                    </div>
                                    <div class="ibox-content">
                                        <p>
                                            <strong>Dropzone.js</strong> is a light weight JavaScript library that turns an HTML element into a dropzone. This means that a user can drag and drop a file onto it, and the file gets uploaded to the server via AJAX.
                                        </p>
                                        <form action="/tienda/agregar_imagenes/" class="dropzone" id="dropzoneForm" method="POST"> {% csrf_token %}>
                                            <input type="number" min="0" class="form-control" id="id_publicacion" name="id_publicacion" value="{{ id }}" hidden>
                                            <div class="fallback">
                                                <input name="file" type="file" multiple />
                                            </div>
                                        </form>
                                        <div class="form-group row">
                                            <div class="col-sm-4 col-sm-offset-2">
                                                <button class="btn btn-white btn-sm" type="submit">Cancel</button>
                                                <button class="btn btn-success" type="submit">Siguiente Paso</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
<!-- DROPZONE -->
<script src="{% static 'js/plugins/dropzone/dropzone.js' %}"></script>


<script>
    Dropzone.options.dropzoneForm = {
        paramName: "file", // The name that will be used to transfer the file
        maxFilesize: 2, // MB
        dictDefaultMessage: "<strong>Drop files here or click to upload. </strong></br> (This is just a demo dropzone. Selected files are not actually uploaded.)"
    }
</script>
{% endblock %}
